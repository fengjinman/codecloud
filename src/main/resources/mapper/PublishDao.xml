<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.demo.dao.PublishDao">
    <insert id="insertClass" >
        <![CDATA[insert into bigclass(classname) values(#{classname})]]>
    </insert>
    <select id="selectClass" resultType="int">
        <![CDATA[
        select count(*) from bigclass where classname = #{classname}
        ]]>
    </select>
    <insert id="insertBrand" >
        <![CDATA[insert into brand(classid,brandname) values(#{classid},#{brandname})]]>
    </insert>
    <select id="selectBrand" resultType="int">
        <![CDATA[
        select count(*) from brand where brandname = #{brandname} and classid = #{classid}
        ]]>
    </select>
    <insert id="insertSpu" >
        <![CDATA[insert into spu(classid,brandid,spuname,img,price,unit,describtion) values(#{classid},#{brandid},#{spuname},#{img},#{price},#{unit},#{describtion})]]>
    </insert>
    <select id="selectSpu" resultType="int">
        <![CDATA[
        select count(*) from spu where spuname = #{spuname} and classid = #{classid} and brandid = #{brandid}
        ]]>
    </select>
    <insert id="insertAttr" >
        <![CDATA[insert into attr(spuid,color,size,size_unit,attr_img) values(#{spuid},#{color},#{size},#{size_unit},#{attr_img})]]>
    </insert>
    <select id="selectAttr" resultType="int">
        <![CDATA[
        select count(*) from attr where spuid = #{spuid} and color = #{color} and size = #{size} and size_unit = #{size_unit}
        ]]>
    </select>
</mapper>